<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Prueba M4</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
</head>
<body>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
<script>
		$(document).ready(function(){
			$("#btn_insertar").click(function(){
				$.get({
					url:'PruebaM4Servlet',
					data: {
							operation: "insert",
							title_no: $("#title_no").val(),
							title: $("#title").val()
						},
					success:function(response){
						if(response == "Exito"){
							alert("Se ha registrado el titulo exitosamente");
							
						}else{
							alert("Hubo un error al registrar el titulo");
						}
					}
					
				})
			});
		});
		$(document).ready(function(){
			$("#btn_seleccionar").click(function(){
				$.get({
					url:'PruebaM4Servlet',
					data: {
							operation: "select",
							title_no: $("#title_no").val()
							
						},
					success:function(response){
						titles= response.split(";");
						$("#title").val(titles[1]);
					}
					
				})
			});
		});
		$(document).ready(function(){
			$("#btn_Eliminar").click(function(){
				$.get({
					url:'PruebaM4Servlet',
					data: {
							operation: "delete",
							title_no: $("#title_no").val(),
						
						},
					success:function(response){
						if(response == "Eliminado"){
							alert("Se ha eliminado el titulo exitosamente");
							
						}else{
							alert("Hubo un error al eliminar el titulo");
						}
					}
					
				})
			});
		});
		$(document).ready(function(){
			$("#btn_modificar").click(function(){
				$.get({
					url:'PruebaM4Servlet',
					data: {
							operation: "update",
							title_no: $("#title_no").val(),
							title: $("#title").val()
						},
					success:function(response){
							if(response == "Exito"){
							alert("Se ha modificado el titulo exitosamente");
							
						}else{
							alert("Hubo un error al modificar el titulo");
							
						}
					}
					
				})
			});
		});
</script>
<div class="jumbotron">
  <h1>Prueba M4 CRUD</h1>
  <p>Hecho por Vanesa Briones Ibacache</p>
</div>
<div class="container col-sm-8">
 <div class="card">
 	<div class="card-header">Tabla Table Types</div>
 	<div class= "card-body col-md-8">
 	<div class="form-group">
	    <label>NÂ°Titulo:</label>
	    <div>
	    <input type="number" class="form-control" id="title_no"> // agregando un value , puede insertar un titulo incrementa si no se agrega un digito, no se como hacerlo desde el crud :(
	    </div>    
	</div>
 	<div class="form-group">
        <label>Nombre del titulo:</label>
        <div>
        <input type="text" class="form-control" id="title" required>
        </div>	        
	</div>		    
 	</div> 
 	<div class="card-footer">
 	<button type="button" class="btn btn-primary" id="btn_insertar">Insertar Titulo</button>
    <button type="button" class="btn btn-primary" id="btn_seleccionar" style="background-color:#dc3545">Seleccionar Titulo</button>
    <button type="button" class="btn btn-primary" id="btn_modificar" style="background-color:#fd7e14">Modificar Titulo</button>
    <button type="button" class="btn btn-primary" id="btn_Eliminar" style="background-color:#343a40">Eliminar Titulo</button>
	</div>	
 </div>
 </div>
</body>
</html>